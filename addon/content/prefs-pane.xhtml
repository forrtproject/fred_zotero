<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="utf-8" />
  <title>Replication Checker Preferences</title>
  <style>
    body { margin: 0; padding: 15px; }
    .setting-group { margin-bottom: 20px; }
    .setting-label { font-weight: bold; margin-bottom: 8px; display: block; }
    .radio-option { margin: 8px 0; }
  </style>
</head>
<body>
  <div class="setting-group">
    <label class="setting-label">How are you today?</label>
    <div class="radio-option">
      <input type="radio" id="great" name="howAreYouToday" value="great" />
      <label for="great">Great</label>
    </div>
    <div class="radio-option">
      <input type="radio" id="good" name="howAreYouToday" value="good" checked="true" />
      <label for="good">Good</label>
    </div>
    <div class="radio-option">
      <input type="radio" id="okay" name="howAreYouToday" value="okay" />
      <label for="okay">Okay</label>
    </div>
    <div class="radio-option">
      <input type="radio" id="not-great" name="howAreYouToday" value="not-great" />
      <label for="not-great">Not great</label>
    </div>
  </div>

  <script>
    // Sync radio buttons with preferences
    const PREF_NAME = "extensions.zotero.replication-checker.howAreYouToday";

    // Load current preference value
    function loadPreferences() {
      const value = Zotero.Prefs.get(PREF_NAME, true) || "good";
      const radio = document.querySelector(`input[name="howAreYouToday"][value="${value}"]`);
      if (radio) {
        radio.checked = true;
      }
    }

    // Save preference when radio button changes
    document.querySelectorAll('input[name="howAreYouToday"]').forEach(radio => {
      radio.addEventListener('change', function() {
        if (this.checked) {
          Zotero.Prefs.set(PREF_NAME, this.value, true);
        }
      });
    });

    // Load preferences when page loads
    loadPreferences();
  </script>
</body>
</html>
